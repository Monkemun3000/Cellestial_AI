@tailwind base;
@tailwind components;
@tailwind utilities;

/* Force dark theme regardless of system preferences */
@media (prefers-color-scheme: dark) {
  :root {
    /* Override system dark mode preference with dark theme */
    --dark-gray: #1a1a1a !important;
    --darker-gray: #0f0f0f !important;
    --light-gray: #2a2a2a !important;
    --white: #ffffff !important;
    --white-outline: #ffffff !important;
    --white-text: #ffffff !important;
    --gray-text: #cccccc !important;
    --accent-white: #ffffff !important;
    --accent-gray: #666666 !important;
    
    /* Legacy colors for compatibility */
    --cosmic-deep: #1a1a1a !important;
    --cosmic-nebula: #2a2a2a !important;
    --cosmic-stellar: #0f0f0f !important;
    --bio-algae: #ffffff !important;
    --accent-glow: #ffffff !important;
    --accent-cosmic: #ffffff !important;
    --accent-bio: #ffffff !important;
    
    /* Background variables */
    --foreground-rgb: 255, 255, 255 !important;
    --background-start-rgb: 15, 15, 15 !important;
    --background-end-rgb: 26, 26, 26 !important;
  }
}

/* Force dark theme even when system prefers light mode */
@media (prefers-color-scheme: light) {
  :root {
    /* Force dark theme even in light mode */
    --dark-gray: #1a1a1a !important;
    --darker-gray: #0f0f0f !important;
    --light-gray: #2a2a2a !important;
    --white: #ffffff !important;
    --white-outline: #ffffff !important;
    --white-text: #ffffff !important;
    --gray-text: #cccccc !important;
    --accent-white: #ffffff !important;
    --accent-gray: #666666 !important;
    
    /* Legacy colors for compatibility */
    --cosmic-deep: #1a1a1a !important;
    --cosmic-nebula: #2a2a2a !important;
    --cosmic-stellar: #0f0f0f !important;
    --bio-algae: #ffffff !important;
    --accent-glow: #ffffff !important;
    --accent-cosmic: #ffffff !important;
    --accent-bio: #ffffff !important;
    
    /* Background variables */
    --foreground-rgb: 255, 255, 255 !important;
    --background-start-rgb: 15, 15, 15 !important;
    --background-end-rgb: 26, 26, 26 !important;
  }
}

/* Force dark backgrounds with light text - override system settings */
:root {
  /* Dark backgrounds with light text - always enforced */
  --dark-gray: #1a1a1a !important;
  --darker-gray: #0f0f0f !important;
  --light-gray: #2a2a2a !important;
  --white: #ffffff !important;
  --white-outline: #ffffff !important;
  --white-text: #ffffff !important;
  --gray-text: #cccccc !important;
  --accent-white: #ffffff !important;
  --accent-gray: #666666 !important;
  
  /* Legacy colors for compatibility */
  --cosmic-deep: #1a1a1a !important;
  --cosmic-nebula: #2a2a2a !important;
  --cosmic-stellar: #0f0f0f !important;
  --bio-algae: #ffffff !important;
  --accent-glow: #ffffff !important;
  --accent-cosmic: #ffffff !important;
  --accent-bio: #ffffff !important;
  
  /* Background variables */
  --foreground-rgb: 255, 255, 255 !important;
  --background-start-rgb: 15, 15, 15 !important;
  --background-end-rgb: 26, 26, 26 !important;
}

/* Dark theme - force dark backgrounds with light text */
:root.dark {
  /* Force dark backgrounds with light text even when dark class is present */
  --dark-gray: #1a1a1a !important;
  --darker-gray: #0f0f0f !important;
  --light-gray: #2a2a2a !important;
  --white: #ffffff !important;
  --white-outline: #ffffff !important;
  --white-text: #ffffff !important;
  --gray-text: #cccccc !important;
  --accent-white: #ffffff !important;
  --accent-gray: #666666 !important;
  
  /* Legacy colors for compatibility */
  --cosmic-deep: #1a1a1a !important;
  --cosmic-nebula: #2a2a2a !important;
  --cosmic-stellar: #0f0f0f !important;
  --bio-algae: #ffffff !important;
  --accent-glow: #ffffff !important;
  --accent-cosmic: #ffffff !important;
  --accent-bio: #ffffff !important;
  
  /* Background variables */
  --foreground-rgb: 255, 255, 255 !important;
  --background-start-rgb: 15, 15, 15 !important;
  --background-end-rgb: 26, 26, 26 !important;
}

body {
  color: #ffffff !important;
  background-image: var(--nasa-background, url('https://images.unsplash.com/photo-1446776877081-d282a0f896e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80')) !important;
  background-size: cover !important;
  background-position: center !important;
  background-attachment: fixed !important;
  background-repeat: no-repeat !important;
  min-height: 100vh;
  transition: background 0.3s ease, color 0.3s ease;
}

html {
  background-image: var(--nasa-background, url('https://images.unsplash.com/photo-1446776877081-d282a0f896e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80')) !important;
  background-size: cover !important;
  background-position: center !important;
  background-attachment: fixed !important;
  background-repeat: no-repeat !important;
  min-height: 100vh;
  transition: background 0.3s ease;
}

/* NASA Background Images - No Overlay */
.bg-hubble-deep-field {
  background: url('https://images.unsplash.com/photo-1446776877081-d282a0f896e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  background-repeat: no-repeat;
  background-repeat: no-repeat;
}

.dark .bg-hubble-deep-field {
  background: url('https://images.unsplash.com/photo-1446776877081-d282a0f896e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  background-repeat: no-repeat;
  background-repeat: no-repeat;
}

.bg-pillars-creation {
  background:               url('https://images.unsplash.com/photo-1502134249126-9f3755a50d78?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  background-repeat: no-repeat;
}

.bg-earth-rise {
  background:               url('https://images.unsplash.com/photo-1614728894747-a83421e2b9c9?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  background-repeat: no-repeat;
}





.bg-galaxy-whirlpool {
  background:               url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  background-repeat: no-repeat;
}

/* Dark mode overrides for all background images */
.dark .bg-pillars-creation,
.dark .bg-earth-rise,
.dark .bg-galaxy-whirlpool {
  background-image: var(--nasa-background-image);
}

/* Ensure all containers inherit the theme */
#__next {
  background: transparent !important;
  min-height: 100vh;
}

/* Force all containers to be transparent */
* {
  background-color: transparent !important;
}

/* Exception for specific elements that need backgrounds */
.bg-white, .bg-black, .bg-transparent {
  background-color: inherit !important;
}

/* Force dialog backgrounds to be opaque */
.confirm-dialog-bg {
  background-color: white !important;
}

.dark .confirm-dialog-bg {
  background-color: #1f2937 !important;
}

/* Force original colors for all UI elements - override any system preferences */

/* Override any light mode styles that might be applied */
.dark *,
[data-theme="dark"] *,
.dark-mode * {
  color: #ffffff !important;
}

/* Force specific UI element colors - dark backgrounds with light text */
.bg-white,
.bg-white\/90,
.bg-white\/95 {
  background-color: transparent !important;
}

.bg-light-gray,
.bg-light-gray\/90,
.bg-light-gray\/95 {
  background-color: transparent !important;
}

.text-white,
.text-white-text {
  color: #ffffff !important;
}

.text-gray-600,
.text-gray-700,
.text-gray-900 {
  color: #ffffff !important;
}

.text-gray-300,
.text-gray-400,
.text-gray-500 {
  color: #cccccc !important;
}

.border-white\/20,
.border-white\/30,
.border-white\/50 {
  border-color: rgba(255, 255, 255, 0.2) !important;
}

/* Force input and form element colors - dark backgrounds with light text */
input,
textarea,
select {
  background-color: transparent !important;
  color: #ffffff !important;
  border-color: rgba(255, 255, 255, 0.3) !important;
}

input::placeholder,
textarea::placeholder {
  color: #cccccc !important;
}

/* Force button colors - dark backgrounds with light text */
button {
  background-color: transparent !important;
  color: #ffffff !important;
  border-color: rgba(255, 255, 255, 0.3) !important;
}

/* Custom scrollbar - Space-Bio Theme */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: rgba(26, 27, 58, 0.1);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, var(--bio-algae), var(--cosmic-aurora));
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, var(--accent-glow), var(--cosmic-plasma));
}

/* Ensure scrolling works in flex containers */
.overflow-y-auto {
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
}

/* Fix for flex containers with overflow */
.flex-1.min-h-0 {
  min-height: 0;
  flex: 1 1 0%;
}

/* Chat scrolling fixes */
.chat-container {
  height: 100vh;
  overflow: hidden;
}

.chat-messages-area {
  flex: 1;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Prevent body scroll when chat is active */
body.chat-active {
  overflow: hidden;
  height: 100vh;
}

/* Chat message animations */
.message-enter {
  opacity: 0;
  transform: translateY(20px);
}

.message-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 300ms, transform 300ms;
}

/* Line clamp utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Smooth transitions */
* {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

    /* Custom pulse animation for online dot */
    @keyframes strong-pulse {
      0%, 100% {
        opacity: 1;
        transform: scale(1);
      }
      50% {
        opacity: 0.7;
        transform: scale(1.1);
      }
    }

    .online-dot {
      animation: strong-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    /* Focus styles */
    .focus\:ring-2:focus {
      --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
      --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
      box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
    }

/* Hover effects */
.hover\:shadow-lg:hover {
  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}

/* Cellestial AI Branding - Space-Bio Theme */
.cellestial-cell {
  font-family: 'Courier New', 'Monaco', 'Menlo', monospace;
  font-weight: 700;
  letter-spacing: -0.02em;
  background: linear-gradient(135deg, var(--cosmic-aurora), var(--bio-algae));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-shadow: 0 0 20px rgba(74, 20, 140, 0.4);
}

    /* Special styling for "Cell" part of Cellestial */
    .cellestial-cell-brand {
      font-family: 'Georgia', 'Times New Roman', serif;
      font-weight: 800;
      font-style: italic;
      color: #2563eb !important;
      text-shadow: 0 0 15px rgba(37, 99, 235, 0.3);
      letter-spacing: 0.5px;
    }

    /* Force the Cell color to override any other styles */
    .cellestial-cell-brand,
    span.cellestial-cell-brand,
    .cellestial-cell-brand span {
      color: #2563eb !important;
    }

    /* Special styling for "estial AI" part of Cellestial */
    .cellestial-ai-brand {
      font-family: 'Arial', 'Helvetica', sans-serif;
      font-weight: 600;
      font-style: normal;
      color: #ffffff;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
      letter-spacing: 1px;
    }

    /* NASA blue color for Space */
    .space-blue {
      color: #2563eb !important;
    }

/* Space-Bio themed gradients */
.cosmic-bio-gradient {
  background: linear-gradient(135deg, var(--cosmic-deep), var(--bio-forest));
}

.cosmic-bio-accent {
  background: linear-gradient(135deg, var(--accent-cosmic), var(--accent-bio));
}

.bio-glow {
  box-shadow: 0 0 20px rgba(0, 230, 118, 0.3);
}

/* Spacing utilities for consistent layout */
.space-section {
  margin-bottom: 2rem;
}

.space-element {
  margin-bottom: 1.5rem;
}

.space-tight {
  margin-bottom: 0.75rem;
}

/* Improved focus states */
.focus-ring {
  outline: 2px solid transparent;
  outline-offset: 2px;
}

.focus-ring:focus {
  outline: 2px solid var(--accent-glow);
  outline-offset: 2px;
}

/* Mobile-specific improvements */
@media (max-width: 640px) {
  /* Ensure touch targets are at least 44px */
  button, a, input, textarea, select {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Improve text readability on mobile */
  body {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }
  
  /* Better scrolling on mobile */
  .overflow-y-auto {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
  
  /* Prevent zoom on input focus */
  input, textarea, select {
    font-size: 16px;
  }
  
  /* Better modal spacing on mobile */
  .modal-mobile {
    margin: 1rem;
    max-height: calc(100vh - 2rem);
  }
  
  /* Improve button spacing */
  .mobile-button-group {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
  
  .mobile-button-group.horizontal {
    flex-direction: row;
    flex-wrap: wrap;
  }
  
  /* Prevent header elements from overlapping */
  header {
    min-height: 64px;
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }
  
  /* Ensure logos are visible */
  .logo-container {
    min-width: 40px;
    min-height: 40px;
  }
  
  /* Better spacing for mobile headers */
  .mobile-header {
    gap: 0.5rem;
  }
  
  /* Prevent text overflow in headers */
  .header-title {
    max-width: calc(100vw - 120px);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  
  /* Better input area spacing */
  .input-area {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }
  
  /* Tab navigation improvements */
  .tab-nav {
    padding: 0.25rem;
  }
  
  .tab-button {
    padding: 0.5rem 0.75rem;
    min-width: 60px;
  }
  
  /* Force hide descriptive text on mobile */
  .mobile-hide-text {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
  }
  
  /* Ensure powered by text is hidden on mobile */
  p.hidden.sm\\:block {
    display: none !important;
  }
  
  /* Mobile prompt box optimizations */
  .mobile-prompt-area {
    padding: 0.75rem 0.5rem;
  }
  
  .mobile-tab-nav {
    margin-bottom: 0.75rem;
  }
  
  .mobile-textarea {
    padding: 0.625rem 0.5rem;
    min-height: 44px;
  }
  
  .mobile-send-button {
    width: 24px;
    height: 24px;
    right: 4px;
    bottom: 4px;
  }
}

/* Sidebar and Main Content Distinction */
@media (min-width: 1024px) {
  /* Enhanced sidebar styling */
  .sidebar-distinct {
    background: rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(20px);
    border-right: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 4px 0 20px rgba(0, 0, 0, 0.3);
  }
  
  /* Main content area styling */
  .main-content-distinct {
    background: linear-gradient(90deg, transparent 0%, rgba(0, 0, 0, 0.02) 100%);
    border-left: 1px solid rgba(255, 255, 255, 0.08);
    position: relative;
  }
  
  /* Subtle divider line */
  .main-content-distinct::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 1px;
    background: linear-gradient(180deg, transparent 0%, rgba(255, 255, 255, 0.1) 50%, transparent 100%);
    z-index: 1;
  }
}

/* Tablet improvements */
@media (min-width: 641px) and (max-width: 1024px) {
  /* Better spacing for tablet */
  .tablet-spacing {
    padding: 1.5rem;
  }
}
